#TODO how is energy determined?